<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLUES‚Ñ¢ - 5D Quantum Property Explorer (3D Textured Homes)</title>

    <!-- Core CLUES‚Ñ¢ System -->
    <script src="core/data-manager.js"></script>
    <script src="core/scoring-engine.js"></script>
    <script src="shared-data-adapter.js"></script>

    <!-- 3D Graphics -->
    <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
    <script src="lib/OrbitControls.js"></script>

    <!-- Quantum 3D Houses Module -->
    <script src="quantum-3d-houses.js"></script>

    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAtnlfmqoHQkiJXc3KYUeR5_4mUupOPLbw&libraries=places"></script>

    <!-- NOTE: This is the 3D textured homes version of the Quantum Explorer -->
    <style>
        /* Add a banner to indicate this is the 3D version */
        .version-banner {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.9), rgba(147, 51, 234, 0.9));
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: bold;
            z-index: 10000;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.5);
            backdrop-filter: blur(10px);
            font-size: 0.9em;
            pointer-events: none;
        }

        .version-banner::before {
            content: "üè† ";
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <!-- Add version banner -->
    <div class="version-banner">3D Textured Homes - Google Street View</div>

    <!-- Include the original Quantum Explorer HTML content here -->
    <!-- For now, let's create a standalone demo -->

    <div style="position: fixed; top: 20px; left: 20px; z-index: 1000; background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px; color: white; max-width: 400px;">
        <h2 style="color: #00D4FF; margin-top: 0;">üè† CLUES‚Ñ¢ Quantum 3D Homes</h2>
        <p style="font-size: 0.9em; line-height: 1.5; margin-bottom: 15px;">
            This is the enhanced version with 3D textured homes loaded from Google Street View.
        </p>
        <div style="padding: 12px; background: rgba(0, 212, 255, 0.2); border-radius: 8px; border: 1px solid rgba(0, 212, 255, 0.5);">
            <strong>‚ú® New Features:</strong>
            <ul style="margin: 10px 0; padding-left: 20px; font-size: 0.85em;">
                <li>3D textured house slabs from Google Street View</li>
                <li>Levitating animation for all houses</li>
                <li>Constellation mode for multiple properties</li>
                <li>Auto-texture loading with colored fallback</li>
            </ul>
        </div>
        <p style="margin-top: 15px; font-size: 0.8em; opacity: 0.8;">
            To integrate into your main Quantum Explorer, add this line to the <code>&lt;head&gt;</code>:
        </p>
        <code style="display: block; background: rgba(255,255,255,0.1); padding: 8px; border-radius: 4px; font-size: 0.75em; margin-top: 8px;">
            &lt;script src="quantum-3d-houses.js"&gt;&lt;/script&gt;
        </code>
        <p style="margin-top: 12px; font-size: 0.8em; opacity: 0.8;">
            Then replace the block creation code with:
        </p>
        <code style="display: block; background: rgba(255,255,255,0.1); padding: 8px; border-radius: 4px; font-size: 0.75em; margin-top: 8px; white-space: pre-wrap;">
const block = window.QuantumHouses.create3DTexturedHouse(
  property, x, y, z, blockHeight, color, avgScore, index
);
        </code>
    </div>

    <div id="canvas-container" style="width: 100vw; height: 100vh;"></div>

    <script>
        // Simple demo scene
        let scene, camera, renderer, controls;
        let houses = [];

        function init() {
            // Scene
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x0066CC, 10, 100);

            // Camera
            camera = new THREE.PerspectiveCamera(
                75,
                window.innerWidth / window.innerHeight,
                0.1,
                1000
            );
            camera.position.set(15, 15, 15);

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x0B1F3F, 1);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            // Controls
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;

            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);

            const pointLight1 = new THREE.PointLight(0x00D4FF, 1, 100);
            pointLight1.position.set(10, 10, 10);
            scene.add(pointLight1);

            const pointLight2 = new THREE.PointLight(0xFF6B35, 0.8, 100);
            pointLight2.position.set(-10, -10, -10);
            scene.add(pointLight2);

            // Grid
            const gridHelper = new THREE.GridHelper(30, 30, 0x00D4FF, 0x0066CC);
            gridHelper.material.opacity = 0.3;
            gridHelper.material.transparent = true;
            scene.add(gridHelper);

            // Create sample properties
            createSampleHouses();

            // Handle window resize
            window.addEventListener('resize', onWindowResize);
        }

        function createSampleHouses() {
            // Sample property data
            const sampleProperties = [
                {
                    name: "Beachfront Villa",
                    location: { latitude: 27.7026, longitude: -82.7354 }, // St. Pete Beach
                },
                {
                    name: "Downtown Condo",
                    location: { latitude: 27.7676, longitude: -82.6403 }, // St. Petersburg
                },
                {
                    name: "Suburban Home",
                    location: { latitude: 28.0836, longitude: -82.7433 }, // Tampa
                },
                {
                    name: "Waterfront Estate",
                    location: { latitude: 27.9506, longitude: -82.4572 }, // Tampa Bay
                },
                {
                    name: "Modern Townhouse",
                    location: { latitude: 27.9478, longitude: -82.4584 }, // Downtown Tampa
                }
            ];

            // Create houses in a circular constellation
            houses = window.QuantumHouses.createHouseConstellation(
                sampleProperties,
                scene,
                12 // radius
            );

            console.log(`‚ú® Created ${houses.length} 3D textured houses`);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);

            // Animate levitating houses
            window.QuantumHouses.animateLevitatingHouses(houses, performance.now());

            controls.update();
            renderer.render(scene, camera);
        }

        // Start the demo
        init();
        animate();

        console.log("%cüè† CLUES Quantum 3D Homes Ready!", "color: #00D4FF; font-weight: bold; font-size: 16px;");
        console.log("%cHouses will load Street View textures from Google Maps API", "color: #FFD700;");
    </script>
</body>
</html>
